let load = function() {
  let url = getUrlForVulnerabilityLevel();
  doGetAjaxCall(
    appendResponseCallback,
    document.getElementById("yourComment").value
      ? url + "?comment=" + document.getElementById("yourComment").value
      : url,
    true
  );
};

function addingEventListenerToLoadImageButton() {
  document.getElementById("post").addEventListener("click", load);
}

function appendComment(post) {
  let postDiv = document.createElement("div");
  postDiv.setAttribute("id", "comments");
  postDiv.innerHTML = post.content;
  document.getElementById("allPosts").appendChild(postDiv);
}
function appendResponseCallback(data) {
  document.getElementById("allPosts").innerHTML = "";
  data.forEach(appendComment);
}

load();
addingEventListenerToLoadImageButton();
