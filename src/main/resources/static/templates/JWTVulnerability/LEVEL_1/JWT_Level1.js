function addingEventListenerToFetchTokenButton() {
	document.getElementById("fetchTokenButton").addEventListener('click', function () { doGetAjaxCallForVulnerabilityLevel(fetchTokenCallBack, true) });
};
addingEventListenerToFetchTokenButton();

function addingEventListenerToVerifyToken() {
	document.getElementById("verifyToken").addEventListener('click', function () {
		let url = getUrlForVulnerabilityLevel();
		url = url + "?JWTToken=" + document.getElementById("jwtToken").value;
		console.log(url);
		console.log(document.getElementById("jwtToken").value);
		doGetAjaxCall(updateUIWithVerifyResponse, url, true)
	})
};
addingEventListenerToVerifyToken();

function updateUIWithVerifyResponse(data) {
	if (data.isValid) {
		document.getElementById("verificationResponse").innerHTML = "JWT token is valid";
	} else {
		document.getElementById("verificationResponse").innerHTML = "<div>JWT Token: " + data.JWTToken + " is not valid. Please try again</div>";
	}
}

function fetchTokenCallBack(data) {
	document.getElementById("jwtToken").value = data.JWTToken;
	document.getElementById("description").style.visibility = "visible";
}